{"ast":null,"code":"// 对于axios进行二次封装\nimport axios from \"axios\";\n// 引入进度条\nimport nprogress from \"nprogress\";\n// 引入store\nimport store from '@/store';\n// start:进度条开始 done:进度条结束\n// 引入进度条的样式\nimport \"nprogress/nprogress.css\";\n\n// 1.利用axios对象的方法create，创建一个axios实例\n// 2.requests就是axios，只是稍微配置一下\nconst requests = axios.create({\n  // 配置对象\n  // 基础路径，发请求的时候，路径会出现api\n  // bestURL:'/api',\n  // 请求超时时间\n  timeout: 5000\n});\n\n// 请求拦截器：在请求之前，请求拦截器可以检测到，可以请求发出去之前做一些事情\nrequests.interceptors.request.use(config => {\n  // config:配置对象，对象里面有个很重要的属性，headers请求头\n  // 进度条开始动\n  nprogress.start();\n  return config;\n});\n\n// 响应拦截器\nrequests.interceptors.response.use(res => {\n  // 成功回调\n  // 进度条结束\n  nprogress.done();\n  return res.data;\n}, error => {\n  // 失败回调\n  return Promise.reject(new Error('faile'));\n});\n\n// 对外暴露\nexport default requests;","map":{"version":3,"names":["axios","nprogress","store","requests","create","timeout","interceptors","request","use","config","start","response","res","done","data","error","Promise","reject","Error"],"sources":["C:/Web-Project/Project-SPH/app/src/api/request.js"],"sourcesContent":["// 对于axios进行二次封装\r\nimport axios from \"axios\"\r\n// 引入进度条\r\nimport nprogress from \"nprogress\"\r\n// 引入store\r\nimport store from '@/store'\r\n// start:进度条开始 done:进度条结束\r\n// 引入进度条的样式\r\nimport \"nprogress/nprogress.css\"\r\n\r\n// 1.利用axios对象的方法create，创建一个axios实例\r\n// 2.requests就是axios，只是稍微配置一下\r\nconst requests = axios.create({\r\n    // 配置对象\r\n    // 基础路径，发请求的时候，路径会出现api\r\n    // bestURL:'/api',\r\n    // 请求超时时间\r\n    timeout:5000\r\n})\r\n\r\n// 请求拦截器：在请求之前，请求拦截器可以检测到，可以请求发出去之前做一些事情\r\nrequests.interceptors.request.use((config)=>{\r\n    // config:配置对象，对象里面有个很重要的属性，headers请求头\r\n    // 进度条开始动\r\n    nprogress.start()\r\n    return config\r\n})\r\n\r\n// 响应拦截器\r\nrequests.interceptors.response.use(\r\n    res=>{\r\n        // 成功回调\r\n        // 进度条结束\r\n        nprogress.done()\r\n        return res.data\r\n    },\r\n    error=>{\r\n        // 失败回调\r\n        return Promise.reject(new Error('faile'))\r\n    }\r\n)\r\n\r\n// 对外暴露\r\nexport default requests"],"mappings":"AAAA;AACA,OAAOA,KAAK,MAAM,OAAO;AACzB;AACA,OAAOC,SAAS,MAAM,WAAW;AACjC;AACA,OAAOC,KAAK,MAAM,SAAS;AAC3B;AACA;AACA,OAAO,yBAAyB;;AAEhC;AACA;AACA,MAAMC,QAAQ,GAAGH,KAAK,CAACI,MAAM,CAAC;EAC1B;EACA;EACA;EACA;EACAC,OAAO,EAAC;AACZ,CAAC,CAAC;;AAEF;AACAF,QAAQ,CAACG,YAAY,CAACC,OAAO,CAACC,GAAG,CAAEC,MAAM,IAAG;EACxC;EACA;EACAR,SAAS,CAACS,KAAK,EAAE;EACjB,OAAOD,MAAM;AACjB,CAAC,CAAC;;AAEF;AACAN,QAAQ,CAACG,YAAY,CAACK,QAAQ,CAACH,GAAG,CAC9BI,GAAG,IAAE;EACD;EACA;EACAX,SAAS,CAACY,IAAI,EAAE;EAChB,OAAOD,GAAG,CAACE,IAAI;AACnB,CAAC,EACDC,KAAK,IAAE;EACH;EACA,OAAOC,OAAO,CAACC,MAAM,CAAC,IAAIC,KAAK,CAAC,OAAO,CAAC,CAAC;AAC7C,CAAC,CACJ;;AAED;AACA,eAAef,QAAQ"},"metadata":{},"sourceType":"module","externalDependencies":[]}