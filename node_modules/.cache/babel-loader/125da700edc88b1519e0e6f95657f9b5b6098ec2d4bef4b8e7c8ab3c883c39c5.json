{"ast":null,"code":"// 对于axios进行二次封装\nimport axios from \"axios\";\n\n// 1.利用axios对象的方法create，创建一个axios实例\n// 2.requests就是axios，只是稍微配置一下\nconst requests = axios.create({\n  // 配置对象\n  // 基础路径，发请求的时候，路径会出现api\n  bestURL: '/api',\n  // 请求超时时间\n  timeout: 5000\n});\n\n// 请求拦截器：在请求之前，请求拦截器可以检测到，可以请求发出去之前做一些事情\nrequests.interceptors.request.use(config => {\n  // config:配置对象，对象里面有个很重要的属性，headers请求头\n  return config;\n});\n\n// 响应拦截器\nrequests.interceptors.response.use(res => {\n  // 成功回调\n  return res.data;\n}, error => {\n  // 失败回调\n  return Promise.reject(new Error('faile'));\n});\n\n// 对外暴露\nexport default requests;","map":{"version":3,"names":["axios","requests","create","bestURL","timeout","interceptors","request","use","config","response","res","data","error","Promise","reject","Error"],"sources":["C:/Web-Project/Project-SPH/app/src/api/request.js"],"sourcesContent":["// 对于axios进行二次封装\r\nimport axios from \"axios\"\r\n\r\n// 1.利用axios对象的方法create，创建一个axios实例\r\n// 2.requests就是axios，只是稍微配置一下\r\nconst requests = axios.create({\r\n    // 配置对象\r\n    // 基础路径，发请求的时候，路径会出现api\r\n    bestURL:'/api',\r\n    // 请求超时时间\r\n    timeout:5000\r\n})\r\n\r\n// 请求拦截器：在请求之前，请求拦截器可以检测到，可以请求发出去之前做一些事情\r\nrequests.interceptors.request.use((config)=>{\r\n    // config:配置对象，对象里面有个很重要的属性，headers请求头\r\n    return config\r\n})\r\n\r\n// 响应拦截器\r\nrequests.interceptors.response.use(\r\n    (res)=>{\r\n        // 成功回调\r\n        return res.data\r\n    },\r\n    (error)=>{\r\n        // 失败回调\r\n        return Promise.reject(new Error('faile'))\r\n    }\r\n)\r\n\r\n// 对外暴露\r\nexport default requests"],"mappings":"AAAA;AACA,OAAOA,KAAK,MAAM,OAAO;;AAEzB;AACA;AACA,MAAMC,QAAQ,GAAGD,KAAK,CAACE,MAAM,CAAC;EAC1B;EACA;EACAC,OAAO,EAAC,MAAM;EACd;EACAC,OAAO,EAAC;AACZ,CAAC,CAAC;;AAEF;AACAH,QAAQ,CAACI,YAAY,CAACC,OAAO,CAACC,GAAG,CAAEC,MAAM,IAAG;EACxC;EACA,OAAOA,MAAM;AACjB,CAAC,CAAC;;AAEF;AACAP,QAAQ,CAACI,YAAY,CAACI,QAAQ,CAACF,GAAG,CAC7BG,GAAG,IAAG;EACH;EACA,OAAOA,GAAG,CAACC,IAAI;AACnB,CAAC,EACAC,KAAK,IAAG;EACL;EACA,OAAOC,OAAO,CAACC,MAAM,CAAC,IAAIC,KAAK,CAAC,OAAO,CAAC,CAAC;AAC7C,CAAC,CACJ;;AAED;AACA,eAAed,QAAQ"},"metadata":{},"sourceType":"module","externalDependencies":[]}